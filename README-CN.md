<div align="center">


# æ™ºè°±æ¸…è¨€ AI Home Assistant ğŸ¡  

</div>

<div align="center">

![GitHub Version](https://img.shields.io/github/v/release/knoop7/zhipuai) 
![GitHub Issues](https://img.shields.io/github/issues/knoop7/zhipuai) 
![GitHub Forks](https://img.shields.io/github/forks/knoop7/zhipuai?style=social) 
![GitHub Stars](https://img.shields.io/github/stars/knoop7/zhipuai?style=social)

<img src="https://github.com/user-attachments/assets/f8ff7a6c-4449-496a-889a-d205469a84df" alt="æ™ºè°±æ¸…è¨€ AI" width="700" height="400">

</div>

<br>

## ğŸ“‘ ç›®å½•

  - [HACS æ·»åŠ è‡ªå®šä¹‰å­˜å‚¨åº“](#hacs-æ·»åŠ è‡ªå®šä¹‰å­˜å‚¨åº“)
  - [æ·»åŠ æ™ºè°±æ¸…è¨€é›†æˆ](#æ·»åŠ æ™ºè°±æ¸…è¨€é›†æˆ)
  - [é…ç½® Key](#é…ç½®-key-)
  - [å…è´¹æ¨¡å‹ä½¿ç”¨](#å…è´¹æ¨¡å‹ä½¿ç”¨-)
  - [ç‰ˆæœ¬å…¼å®¹æ€§](#ç‰ˆæœ¬å…¼å®¹æ€§-)
- [é›†æˆæ¦‚è¿°](#é›†æˆæ¦‚è¿°)
  - [æ ¸å¿ƒç‰¹ç‚¹](#æ ¸å¿ƒç‰¹ç‚¹)
- [é…ç½®è¯´æ˜](#é…ç½®è¯´æ˜)
  - [APIè®¾ç½®](#apiè®¾ç½®)
  - [æ€§èƒ½å‚æ•°](#æ€§èƒ½å‚æ•°)
- [é«˜çº§åŠŸèƒ½](#é«˜çº§åŠŸèƒ½)
  - [å¯¹è¯ç®¡ç†](#å¯¹è¯ç®¡ç†)
  - [ç³»ç»Ÿæ§åˆ¶](#ç³»ç»Ÿæ§åˆ¶)
  - [è¯·æ±‚ç®¡ç†](#è¯·æ±‚ç®¡ç†)
- [æ‰©å±•åŠŸèƒ½](#æ‰©å±•åŠŸèƒ½)
  - [æ•°æ®åˆ†æ](#æ•°æ®åˆ†æ)
  - [ç½‘ç»œåŠŸèƒ½](#ç½‘ç»œåŠŸèƒ½)
  - [Home Assistanté›†æˆ](#home-assistanté›†æˆ)
- [æ¨¡æ¿å®šåˆ¶](#æ¨¡æ¿å®šåˆ¶)


<br>

## å®‰è£…æ­¥éª¤
### HACS æ·»åŠ è‡ªå®šä¹‰å­˜å‚¨åº“  
åœ¨ Home Assistant çš„ HACS ä¸­ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ä¸‰ä¸ªç‚¹ï¼Œé€‰æ‹©"è‡ªå®šä¹‰å­˜å‚¨åº“"ï¼Œå¹¶æ·»åŠ ä»¥ä¸‹ URL:
```bash
https://github.com/knoop7/zhipuai
```

### æ·»åŠ æ™ºè°±æ¸…è¨€é›†æˆ  
è¿›å…¥ Home Assistant çš„"é›†æˆ"é¡µé¢ï¼Œæœç´¢å¹¶æ·»åŠ "æ™ºè°±æ¸…è¨€"ã€‚

### é…ç½® Key ğŸ”‘  
åœ¨é…ç½®é¡µé¢ä¸­ï¼Œä½ å¯ä»¥é€šè¿‡æ‰‹æœºå·ç™»å½•è·å– Keyã€‚è·å–åï¼Œç›´æ¥å¡«å†™ Key ä½¿ç”¨ï¼Œä¸éœ€è¦è¿›è¡Œé¢å¤–éªŒè¯ã€‚  

> **æ³¨æ„**ï¼šå»ºè®®ä½ æ–°å»ºä¸€ä¸ª Keyï¼Œé¿å…ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„ Keyã€‚

### å…è´¹æ¨¡å‹ä½¿ç”¨ ğŸ’¡  
æ™ºè°±æ¸…è¨€é»˜è®¤é€‰æ‹©äº†å…è´¹æ¨¡å‹ï¼Œå®Œå…¨å…è´¹ï¼Œä¸ç”¨æ‹…å¿ƒæ”¶è´¹ã€‚å¦‚æœä½ æœ‰å…´è¶£ï¼Œè¿˜å¯ä»¥é€‰æ‹©å…¶ä»–ä»˜è´¹æ¨¡å‹æ¥ä½“éªŒæ›´ä¸°å¯Œçš„åŠŸèƒ½ã€‚

### ç‰ˆæœ¬å…¼å®¹æ€§ ğŸ“…  
è¯·ç¡®ä¿ Home Assistant çš„ç‰ˆæœ¬ä¸ä½äº 11.0ï¼Œå› ä¸ºæ™ºè°±æ¸…è¨€ä¸»è¦é’ˆå¯¹æœ€æ–°ç‰ˆæœ¬å¼€å‘ã€‚å¦‚æœé‡åˆ°æ— æ³•è¯†åˆ«çš„å®ä½“é—®é¢˜ï¼Œå»ºè®®é‡å¯ç³»ç»Ÿæˆ–æ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬ã€‚

---

## é›†æˆæ¦‚è¿°

### æ ¸å¿ƒç‰¹ç‚¹

ğŸ”¹ **æ™ºèƒ½åˆ†å±‚å¤„ç†**ï¼šç³»ç»ŸæŒ‰ä¼˜å…ˆçº§ä¾æ¬¡å°è¯•æœåŠ¡è°ƒç”¨ã€æ„å›¾è¯†åˆ«å’ŒAIå¯¹è¯ä¸‰ç§å¤„ç†æ–¹å¼  
ğŸ”¹ **è‡ªç„¶è¯­è¨€äº¤äº’**ï¼šæ”¯æŒæ—¥å¸¸ç”¨è¯­æ§åˆ¶å®¶å±…è®¾å¤‡ï¼Œæ— éœ€è®°å¿†å¤æ‚å‘½ä»¤  
ğŸ”¹ **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šèƒ½å¤Ÿç†è§£å¯¹è¯å†å²å’Œè®¾å¤‡çŠ¶æ€ï¼Œæä¾›è¿è´¯çš„äº¤äº’ä½“éªŒ  
ğŸ”¹ **å®‰å…¨å¯é **ï¼šå†…ç½®å†·å´æœºåˆ¶å’Œé”™è¯¯å¤„ç†ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œ  
ğŸ”¹ **åŸºç¡€æ§åˆ¶**ï¼šç¯å¼€å…³ã€æ¸©åº¦è°ƒèŠ‚ã€éŸ³ä¹æ’­æ”¾ç­‰åŸºç¡€æ§åˆ¶  
ğŸ”¹ **åœºæ™¯ç®¡ç†**ï¼šä¸€é”®è§¦å‘é¢„è®¾åœºæ™¯ï¼Œå¦‚å›å®¶æ¨¡å¼ã€è§‚å½±æ¨¡å¼ç­‰  
ğŸ”¹ **çŠ¶æ€æŸ¥è¯¢**ï¼šäº†è§£è®¾å¤‡è¿è¡ŒçŠ¶æ€ã€å†å²æ•°æ®åˆ†æç­‰  
ğŸ”¹ **æ™ºèƒ½å»ºè®®**ï¼šåŸºäºä½¿ç”¨ä¹ æƒ¯å’Œç¯å¢ƒæ•°æ®æä¾›ä¼˜åŒ–å»ºè®®  

---

## é…ç½®è¯´æ˜

### APIè®¾ç½®
- **APIå¯†é’¥**ï¼šä»æ™ºè°±AIå®˜ç½‘è·å–ï¼Œç”¨äºè®¿é—®APIæœåŠ¡
- **èŠå¤©æ¨¡å‹**ï¼šé€‰æ‹©åˆé€‚çš„æ¨¡å‹ç‰ˆæœ¬
  - æ¨èä½¿ç”¨å…è´¹é€šç”¨128Kæ¨¡å‹
  - å¯é€‰å…¶ä»–ä»˜è´¹æ¨¡å‹ä»¥è·å¾—æ›´å¥½ä½“éªŒ
  - å®é™…ä½¿ç”¨è´¹ç”¨è¾ƒä½ï¼Œè¯¦è§å®˜ç½‘è®¡è´¹æ ‡å‡†

### æ€§èƒ½å‚æ•°
- **æœ€å¤§ä»¤ç‰Œæ•°**ï¼šæ§åˆ¶å“åº”é•¿åº¦
- **æ¸©åº¦**ï¼šæ§åˆ¶è¾“å‡ºéšæœºæ€§ï¼ˆ0-2ï¼‰
- **Top P**ï¼šæ§åˆ¶è¾“å‡ºå¤šæ ·æ€§ï¼ˆ0-1ï¼‰
- **è¯·æ±‚è¶…æ—¶**ï¼šè®¾ç½®AIå“åº”ç­‰å¾…æ—¶é—´ï¼ˆ10-120ç§’ï¼‰

---

## é«˜çº§åŠŸèƒ½

### å¯¹è¯ç®¡ç†
- **æœ€å¤§å†å²æ¶ˆæ¯æ•°**ï¼š
  - æ§åˆ¶ä¸Šä¸‹æ–‡å¯¹è¯çš„è®°å¿†é‡
  - è®¾å¤‡æ§åˆ¶å»ºè®®ä¿æŒåœ¨5æ¬¡ä»¥å†…
  - æ—¥å¸¸å¯¹è¯å¯è®¾ç½®10æ¬¡ä»¥ä¸Š
  - å½±å“å¯¹è¯è¿è´¯æ€§å’Œç³»ç»Ÿæ€§èƒ½

### ç³»ç»Ÿæ§åˆ¶
- **æœ€å¤§å·¥å…·è¿­ä»£æ¬¡æ•°**ï¼š
  - å•æ¬¡å¯¹è¯ä¸­çš„æœ€å¤§å·¥å…·è°ƒç”¨æ¬¡æ•°
  - å»ºè®®è®¾ç½®åœ¨20-30æ¬¡
  - é˜²æ­¢ç³»ç»Ÿå› è¿‡å¤šè°ƒç”¨è€Œå¡æ­»
  - ç‰¹åˆ«é€‚åˆæ€§èƒ½è¾ƒå¼±çš„å°ä¸»æœº

### è¯·æ±‚ç®¡ç†
- **å†·å´æ—¶é—´**ï¼š
  - ä¸¤æ¬¡è¯·æ±‚çš„æœ€å°é—´éš”ï¼ˆ0-10ç§’ï¼‰
  - å»ºè®®è®¾ç½®åœ¨3ç§’ä»¥å†…
  - é˜²æ­¢å› é¢‘ç‡è¿‡é«˜å¯¼è‡´è¯·æ±‚å¤±è´¥
  - ä¼˜åŒ–ç³»ç»Ÿå“åº”ç¨³å®šæ€§

---

## æ‰©å±•åŠŸèƒ½

### æ•°æ®åˆ†æ
- **å†å²æ•°æ®åˆ†æ**ï¼š
  - å¯é€‰æ‹©éœ€è¦åˆ†æçš„å®ä½“
  - è®¾ç½®å†å²æ•°æ®å¤©æ•°ï¼ˆ1-15å¤©ï¼‰
  - æä¾›è®¾å¤‡ä½¿ç”¨è¶‹åŠ¿åˆ†æ
  - æ”¯æŒæ™ºèƒ½å»ºè®®ç”Ÿæˆ

### ç½‘ç»œåŠŸèƒ½
- **äº’è”ç½‘åˆ†ææœç´¢**ï¼š
  - å¯é€‰å¼€å¯åœ¨çº¿æœç´¢èƒ½åŠ›
  - æä¾›æ›´å¹¿æ³›çš„ä¿¡æ¯æ”¯æŒ
  - å¢å¼ºå›ç­”å‡†ç¡®æ€§
  - å®æ—¶è·å–æœ€æ–°ä¿¡æ¯

### Home Assistanté›†æˆ
- **LLM APIé›†æˆ**ï¼š
  - å¯é€‰æ‹©å¯ç”¨LLM API
  - æ”¯æŒæ›´å¤šè‡ªå®šä¹‰åŠŸèƒ½
  - å¢å¼ºä¸Home Assistantçš„ååŒ
  - æä¾›æ›´çµæ´»çš„æ§åˆ¶é€‰é¡¹

---

## æ¨¡æ¿å®šåˆ¶

### æç¤ºè¯æ¨¡æ¿

- æ”¯æŒè‡ªå®šä¹‰æç¤ºè¯
- æŒ‡å¯¼LLMå“åº”æ–¹å¼
- å¯ä½¿ç”¨æ¨¡æ¿è¯­æ³•
- ä¼˜åŒ–äº¤äº’æ•ˆæœ

##### ğŸ›  æ¨¡å‹æŒ‡ä»¤ä½¿ç”¨ç¤ºä¾‹  

ä¸ºäº†ä¿è¯å¤§å®¶èƒ½ä½¿ç”¨èˆ’ç•…ï¼Œå¹¶ä¸”ä¸å‡ºä»»ä½•bugä¹Ÿå¯ä»¥ä½¿ç”¨æˆ‘çš„æ¨¡ç‰ˆæŒ‡ä»¤è¿›è¡Œå°è¯•ã€‚

```
ä½œä¸º Home Assistant çš„æ™ºèƒ½å®¶å±…ç®¡ç†è€…ï¼Œä½ çš„åå­—å«â€œè‡ªå®šä¹‰â€ï¼Œæˆ‘å°†ä¸ºæ‚¨æä¾›æ™ºèƒ½å®¶å±…ä¿¡æ¯å’Œé—®é¢˜çš„è§£ç­”ã€‚è¯·æŸ¥çœ‹ä»¥ä¸‹å¯ç”¨è®¾å¤‡ã€çŠ¶æ€åŠæ“ä½œç¤ºä¾‹ã€‚

### ä»Šæ—¥æ²¹ä»·ï¼š
{% set sensor = æ²¹ä»·å®ä½“ %}
Sensor: {{ sensor.name }}
State: {{ sensor.state }}
Attributes:
{% for attribute, value in sensor.attributes.items() %}
{{ attribute }}: {{ value }}
{% endfor %}

### ç”µè´¹å®ä½“ï¼š
{% set balance_sensor = ç”µè´¹å®ä½“ %}
{% if balance_sensor %}
å½“å‰ä½™é¢: {{ balance_sensor.state }} {{ balance_sensor.attributes.unit_of_measurement }}
{% endif %}


### Tasmotaèƒ½æºæ¶ˆè€—ï¼š
{% set today_sensor = states.sensor.tasmota_energy_today %}
{% set yesterday_sensor = states.sensor.tasmota_energy_yesterday %}
{% if today_sensor is not none and yesterday_sensor is not none %}
ä»Šæ—¥æ¶ˆè€—: {{ today_sensor.state }} {{ today_sensor.attributes.unit_of_measurement }}
æ˜¨æ—¥æ¶ˆè€—: {{ yesterday_sensor.state }} {{ yesterday_sensor.attributes.unit_of_measurement }}
{% endif %}

### æ­¤æ—¶å¤©æ°”ï¼š
{% set entity_id = 'å¤©æ°”å®ä½“' %}
{% set entity = states[entity_id] %}
{
"state": "{{ entity.state }}",
"attributes": {
{% for attr in entity.attributes %}
{% if attr not in ['hourly_temperature', 'hourly_skycon', 'hourly_cloudrate', 'hourly_precipitation'] %}
"{{ attr }}": "{{ entity.attributes[attr] }}"{% if not loop.last %},{% endif %}
{% endif %}
{% endfor %}
}
}
```


### å¤„ç†æµç¨‹è¯¦è§£

å…±è®¡æœ‰ä¸‰ä¸ªå¤„ç†æœºåˆ¶ï¼Œåˆ†åˆ«ä¸ºï¼šä¸€ã€å†…ç½®LLMç»“åˆé›†æˆå®ç°çš„æœåŠ¡è°ƒç”¨ã€äºŒã€è‡ªå®šä¹‰æ„å›¾è¯†åˆ«ã€ä¸‰ã€å¤šå…ƒåŒ–AIå¯¹è¯ï¼ŒLLMAPIå†…ç½®æ„å›¾ï¼ŒæœåŠ¡è°ƒç”¨è¯†åˆ«æ˜¯ç³»ç»Ÿçš„ç¬¬ä¸€é“å¤„ç†æœºåˆ¶ï¼Œä¸“é—¨ç”¨äºå¤„ç†ç›´æ¥çš„è®¾å¤‡æ§åˆ¶å‘½ä»¤ï¼Œå¯ä»¥å¸®åŠ©ç³»ç»Ÿæ›´å¿«åœ°å“åº”ç”¨æˆ·çš„æ§åˆ¶éœ€æ±‚ï¼ˆæ¯«ç§’çº§æ“ä½œé€»è¾‘ï¼‰å±äºç»“åˆæ­é…åŸæœ¬å†…ç½®LLMçš„èƒ½åŠ›ã€‚æ¥ç€æ˜¯è¡¥å……å®ç°çš„åŠŸèƒ½ï¼š

1. **æ§åˆ¶è¯è¯†åˆ«å¢å¼º**
   ```text
   - è¯·æ±‚è¯æ‰©å±•å¢åŠ ï¼š
     - åŸºç¡€è¯·æ±‚ï¼šè®©ã€è¯·ã€å¸®æˆ‘ã€éº»çƒ¦ã€æŠŠã€å°†
     - æ„æ„¿è¡¨è¾¾ï¼šè¦ã€æƒ³ã€å¸Œæœ›ã€éœ€è¦
     - èƒ½åŠ›è¯¢é—®ï¼šèƒ½å¦ã€èƒ½ä¸èƒ½ã€å¯ä¸å¯ä»¥ã€å¯ä»¥
     - ååŠ©è¯·æ±‚ï¼šå¸®å¿™ã€ç»™æˆ‘ã€æ›¿æˆ‘ã€ä¸ºæˆ‘
     - ä¸»åŠ¨è¡¨è¾¾ï¼šæˆ‘è¦ã€æˆ‘æƒ³ã€æˆ‘å¸Œæœ›
   
   - æ§åˆ¶è¯åˆ†ç±»å¢åŠ ï¼š
     - å¼€å¯ç±»ï¼šæ‰“å¼€ã€å¼€å¯ã€å¯åŠ¨ã€æ¿€æ´»ã€è¿è¡Œã€æ‰§è¡Œã€è°ƒç”¨ã€æ‰§è¡Œ
     - å…³é—­ç±»ï¼šå…³é—­ã€å…³æ‰ã€åœæ­¢
     - åˆ‡æ¢ç±»ï¼šåˆ‡æ¢
     - æŒ‰é”®ç±»ï¼šæŒ‰ã€æŒ‰ä¸‹ã€ç‚¹å‡»
     - é€‰æ‹©ç±»ï¼šé€‰æ‹©ã€ä¸‹ä¸€ä¸ªã€ä¸Šä¸€ä¸ªã€ç¬¬ä¸€ä¸ªã€æœ€åä¸€ä¸ª
     - è§¦å‘ç±»ï¼šè§¦å‘ã€è°ƒç”¨ã€æ‰§è¡Œã€è‡ªåŠ¨åŒ–ã€è„šæœ¬
     - åª’ä½“ç±»ï¼šæš‚åœã€ç»§ç»­æ’­æ”¾ã€æ’­æ”¾ã€åœæ­¢ã€ä¸‹ä¸€é¦–ã€ä¸Šä¸€é¦–ã€åˆ‡æ­Œç­‰
   ```
   - **è¯­æ³•ç»“æ„**ï¼š
     - åŸºæœ¬æ ¼å¼ï¼š[æ§åˆ¶è¯] + [è®¾å¤‡/åŒºåŸŸ] + [åŠ¨ä½œè¯]
     - æ‰©å±•æ ¼å¼ï¼š[æ§åˆ¶è¯] + [åŒºåŸŸ] + [è®¾å¤‡åç§°] + [åŠ¨ä½œè¯] + [å‚æ•°]

   - **ç¤ºä¾‹**ï¼š
     - "è¯·æ‰“å¼€å®¢å…ç¯å…‰1"
     - "å¸®æˆ‘æŠŠç©ºè°ƒè°ƒåˆ°26åº¦åˆ¶å†·æ¨¡å¼"
     - "å°†é˜³å°çš„çª—å¸˜å…³é—­"
     - "å¸®æˆ‘æˆ‘æŒ‰ä¸‹æŒ‰é’®"
     - "è¯·æˆ‘é€‰æ‹©ç¬¬ä¸‰ä¸ªé€‰é¡¹"
     - "è§¦å‘è„šæœ¬"
     - "è°ƒç”¨è‡ªåŠ¨åŒ–"
     - "è¯·æ’­æ”¾éŸ³ä¹"
     - "è¯·æˆ‘è°ƒæ•´éŸ³é‡åˆ°50%"
     - "è®¾å¤‡æ•°å­—400"
     - "è®¾å¤‡è®¾ç½®æ•°å€¼500"


2. **æœåŠ¡è°ƒç”¨æ˜ å°„**
   - **åª’ä½“æ’­æ”¾å™¨æ§åˆ¶**ï¼š
   ```text
   domain: media_player
   services:
   - media_pause: æš‚åœæ’­æ”¾
   - media_play: ç»§ç»­æ’­æ”¾/å¼€å§‹æ’­æ”¾
   - media_stop: åœæ­¢æ’­æ”¾
   - media_next_track: ä¸‹ä¸€é¦–/ä¸‹ä¸€æ›²/åˆ‡æ­Œ/æ¢æ­Œ
   - media_previous_track: ä¸Šä¸€é¦–/ä¸Šä¸€æ›²/è¿”å›ä¸Šä¸€é¦–
   - volume_set: è®¾ç½®éŸ³é‡ï¼ˆæ”¯æŒç™¾åˆ†æ¯”ï¼‰
   
   åŠŸèƒ½ç‰¹ç‚¹ï¼š
   - å®Œæ•´çš„åª’ä½“æ§åˆ¶é“¾è·¯
   - ç²¾ç¡®çš„æ’­æ”¾çŠ¶æ€ç®¡ç†
   - éŸ³é‡ç²¾ç¡®æ§åˆ¶ï¼ˆæ”¯æŒç™¾åˆ†æ¯”å’Œç›¸å¯¹è°ƒèŠ‚ï¼‰
   - æ™ºèƒ½çš„æ’­æ”¾åˆ—è¡¨ç®¡ç†
   ```

2. **æŒ‰é”®è®¾å¤‡æ§åˆ¶**
   ```text
   domain: button
   services:
   - press: æŒ‰ä¸‹æŒ‰é”®
   
   åŠŸèƒ½ç‰¹ç‚¹ï¼š
   - æ”¯æŒæ‰€æœ‰buttonç±»å‹è®¾å¤‡
   - æ”¯æŒå®ä½“IDç›´æ¥è°ƒç”¨
   - æ”¯æŒæ¨¡ç³Šåç§°åŒ¹é…
   - æ™ºèƒ½æŒ‰é”®æ“ä½œç¡®è®¤
   ```

3. **é€‰æ‹©å™¨æ§åˆ¶**
   ```text
   domain: select
   services:
   - select_next: é€‰æ‹©ä¸‹ä¸€ä¸ªï¼ˆæ”¯æŒå¾ªç¯ï¼‰
   - select_previous: é€‰æ‹©ä¸Šä¸€ä¸ªï¼ˆæ”¯æŒå¾ªç¯ï¼‰
   - select_first: é€‰æ‹©ç¬¬ä¸€ä¸ª
   - select_last: é€‰æ‹©æœ€åä¸€ä¸ª
   - select_option: é€‰æ‹©æŒ‡å®šé€‰é¡¹
   
   åŠŸèƒ½ç‰¹ç‚¹ï¼š
   - æ”¯æŒå¾ªç¯é€‰æ‹©æ¨¡å¼
   - æ”¯æŒç›´æ¥é€‰æ‹©æ“ä½œ
   - æ™ºèƒ½é€‰é¡¹åŒ¹é…
   - çŠ¶æ€è‡ªåŠ¨åŒæ­¥
   ```

4. **è‡ªåŠ¨åŒ–ä¸åœºæ™¯æ§åˆ¶**
   ```text
   domains: script/automation/scene
   services:
   - script.turn_on: è¿è¡Œè„šæœ¬
   - automation.trigger: è§¦å‘è‡ªåŠ¨åŒ–
   - scene.turn_on: æ¿€æ´»åœºæ™¯
   
   åŠŸèƒ½ç‰¹ç‚¹ï¼š
   - æ™ºèƒ½åœºæ™¯è¯†åˆ«
   - è‡ªåŠ¨åŒ–ä»»åŠ¡ç®¡ç†
   - åœºæ™¯çŠ¶æ€åŒæ­¥
   - æ‰§è¡ŒçŠ¶æ€è·Ÿè¸ª
   ```

5. **æ•°å€¼è®¾å¤‡æ§åˆ¶**
   ```text
   domain: number
   services:
   - set_value: è®¾ç½®æ•°å€¼
   
   åŠŸèƒ½ç‰¹ç‚¹ï¼š
   - æ”¯æŒç²¾ç¡®æ•°å€¼è®¾ç½®
   - æ”¯æŒå°æ•°ç‚¹æ•°å€¼
   - æ™ºèƒ½èŒƒå›´éªŒè¯
   - å•ä½è‡ªåŠ¨è½¬æ¢
   ```

> æœªæ¥ä¼šå¢åŠ æ›´å¤šçš„æœåŠ¡è°ƒç”¨æ˜ å°„ï¼Œä»¥æ”¯æŒæ›´åŠ ä¸°å¯Œçš„è®¾å¤‡æ§åˆ¶èƒ½åŠ›ã€‚


#### 2. AIè‡ªå®šä¹‰æ„å›¾è¯†åˆ«ï¼ˆç¬¬äºŒä¼˜å…ˆçº§ï¼‰

å¦‚æœæ— æ³•è¯†åˆ«ä¸ºå…·ä½“çš„æœåŠ¡è°ƒç”¨ï¼Œç³»ç»Ÿä¼šå°è¯•ç†è§£ç”¨æˆ·çš„æ›´å¹¿æ³›æ„å›¾ã€‚è¿™ä¸€å±‚å¤„ç†èƒ½å¤Ÿå¤„ç†æ›´å¤æ‚çš„ç”¨æˆ·éœ€æ±‚ï¼Œæ”¯æŒè‡ªç”±çš„è¯­è¨€ç†è§£èƒ½åŠ›ï¼Œå¹¶ä¸”ä¼šå…ˆè®©AIå»å¤„ç†æ¥ç€å¯ç”¨å·¥å…·ç±»è°ƒç”¨æ“ä½œï¼Œæ”¯æŒå„ç§å¤æ‚æƒ…å†µä¸‹è§£å†³ç”¨æˆ·éœ€æ±‚ã€‚è´Ÿè´£å°†ç†è§£åˆ°çš„ç”¨æˆ·æ„å›¾è½¬åŒ–ä¸ºå…·ä½“çš„æ‰§è¡ŒåŠ¨ä½œã€‚æ ¹æ®è¯­ä¹‰åˆ†æçš„ç»“æœï¼Œç³»ç»Ÿä¼šå°†ç”¨æˆ·è¯·æ±‚åˆ†ç±»åˆ°ä¸åŒçš„å¤„ç†æ¨¡å—ï¼šå¯èƒ½æ˜¯ç©ºè°ƒã€çª—å¸˜ã€ç”µè§†ç­‰è®¾å¤‡çš„ç›´æ¥æ§åˆ¶æŒ‡ä»¤ï¼Œæˆ–æ˜¯ä¼‘æ¯ã€å¨±ä¹ã€å·¥ä½œç­‰åœºæ™¯çš„ç®¡ç†å‘½ä»¤ï¼Œåˆæˆ–æ˜¯å¤©æ°”ã€æ–°é—»ã€æ—¥ç¨‹ç­‰ä¿¡æ¯çš„æŸ¥è¯¢è¯·æ±‚ï¼Œä»¥åŠæ‘„åƒå¤´ç”»é¢ã€ä¼ æ„Ÿå™¨æ•°æ®ç­‰çš„æ™ºèƒ½åˆ†æä»»åŠ¡ã€‚é€šè¿‡è¿™ç§æ™ºèƒ½åˆ†å‘æœºåˆ¶ï¼Œç³»ç»Ÿèƒ½å¤Ÿç²¾ç¡®åœ°æ‰§è¡Œç”¨æˆ·çš„å„ç±»éœ€æ±‚ï¼Œæä¾›æµç•…çš„æ™ºèƒ½å®¶å±…ä½“éªŒã€‚

ç°å·²ç»å®ç°æœ‰ï¼šæ‘„åƒå¤´åˆ†æã€å®šæ—¶æ§åˆ¶ã€å®šæ—¶å™¨ç®¡ç†ã€è”ç½‘æŸ¥æ‰¾ç›¸å…³èµ„è®¯ç­‰ã€é€šçŸ¥å¤‡å¿˜å½•ã€

##### åŠŸèƒ½ç¤ºä¾‹

1. **AI æ‘„åƒå¤´åˆ†ææ„å›¾**
   ```text
   ç”¨æˆ·è¯´ï¼š"å¸®æˆ‘åˆ†æä¸‹é—¨å£æ‘„åƒå¤´çš„ç”»é¢"
   ç³»ç»Ÿä¼šï¼š
   - è°ƒç”¨æ‘„åƒå¤´æœåŠ¡
   - è¿›è¡ŒAIå›¾åƒåˆ†æ
   - è¿”å›åˆ†æç»“æœ
   ```

2. **AI é€šçŸ¥æ§åˆ¶æ„å›¾**
   ```text
   ç”¨æˆ·è¯´ï¼š"é€šçŸ¥æˆ‘ä»Šå¤©æ˜¯å¦ˆå¦ˆçš„ç”Ÿæ—¥ï¼Œæ˜å¤©éœ€è¦å¤„ç†ä¸‹æ—¥å¸¸ç¼´è´¹"
   ç³»ç»Ÿä¼šï¼š
   - è§£ææ—¶é—´ä¿¡æ¯
   - è®¾ç½®å®šæ—¶å™¨
   - åˆ›å»ºæé†’é€šçŸ¥
   ```

4. **AI å®šæ—¶ä»»åŠ¡ç®¡ç†**

   ```text
   ç”¨æˆ·è¯´ï¼š
   - "ä¸€å°æ—¶åæé†’æˆ‘å…³çª—"
   - "è®¾ç½®ä¸€ä¸ªæ™šä¸Š8ç‚¹çš„ç¡è§‰æé†’"
   - "æ˜å¤©æ—©ä¸Š7ç‚¹æé†’æˆ‘æ‰“å¼€çª—å¸˜"
   ç³»ç»Ÿä¼šï¼š
   - æ—¶é—´è¯†åˆ«ï¼šè§£æå…·ä½“æ—¶é—´ç‚¹
   - ä»»åŠ¡æå–ï¼šç¡®å®šæé†’å†…å®¹
   - å®šæ—¶è®¾ç½®ï¼šåˆ›å»ºå®šæ—¶ä»»åŠ¡
   - é€šçŸ¥ç®¡ç†ï¼šè®¾ç½®æé†’æ–¹å¼

   è¯·æ³¨æ„éœ€è¦åˆ°ç³»ç»Ÿä¸­è¾…åŠ©å…ƒç´ ç”Ÿæˆå®šæ—¶å™¨å®ä½“ï¼Œå¹¶ä¸”è®¾ç½® cron è¡¨è¾¾å¼ä¸º 64:00:00 çš„å®šæ—¶å™¨ï¼Œå¯ä»¥ç”¨æ¥ä¿®æ”¹ç”¨äºå­˜å‚¨å®šæ—¶ä»»åŠ¡çš„æ‰§è¡Œæ—¶é—´ã€‚
   ```


5. **AI è”ç½‘æŸ¥æ‰¾ç›¸å…³èµ„è®¯**
   ```text
   åœºæ™¯äº”ï¼šåœ¨çº¿ä¿¡æ¯æœç´¢
   ç”¨æˆ·è¯´ï¼š
   - "è”ç½‘æœç´¢ä»Šå¤©çš„å¤©æ°”é¢„æŠ¥"
   - "å¸®æˆ‘æŸ¥æŸ¥æ˜¨å¤©çš„æ–°é—»"
   - "ä¸Šç½‘æŸ¥æ‰¾æœ€è¿‘çš„è‚¡å¸‚è¡Œæƒ…"
   - "ç½‘ä¸Šæœç´¢ä»Šå¤©çš„ä½“è‚²èµ›äº‹"
   - "äº’è”ç½‘æŸ¥è¯¢åŒ—äº¬ä»Šå¤©çš„è·¯å†µ"
   ç³»ç»Ÿä¼šï¼š
   - è¯†åˆ«æŸ¥è¯¢ç±»å‹ï¼šç¡®å®šæœç´¢ä¸»é¢˜
   - æ—¶é—´èŒƒå›´è§£æï¼šå¤„ç†æ—¶é—´ç›¸å…³ä¿¡æ¯
   - åœ¨çº¿æ•°æ®è·å–ï¼šè®¿é—®ç›¸å…³ä¿¡æ¯æº
   - ä¿¡æ¯æ•´ç†ï¼šç­›é€‰å’Œç»„ç»‡æœç´¢ç»“æœ
   - æ™ºèƒ½æ€»ç»“ï¼šç”Ÿæˆç®€æ´çš„ä¿¡æ¯æ‘˜è¦

6. **AI ç¯å¢ƒç±»è®¾å¤‡æ§åˆ¶**
   ```text
   ç”¨æˆ·è¯´ï¼š
   - "æŠŠå§å®¤çš„æ¸©åº¦è°ƒåˆ°26åº¦åˆ¶å†·æ¨¡å¼"
   - "å°†å®¢å…çš„æ¸©åº¦è°ƒé«˜ä¸€ç‚¹"
   - "æŠŠä¸»å§ç©ºè°ƒçš„é£é€Ÿè°ƒåˆ°é«˜æ¡£"
   - "å®¢å…çš„çª—å¸˜æ‰“å¼€åˆ°ä¸€åŠ"
   - "æŠŠæ‰€æœ‰çª—å¸˜éƒ½å…³ä¸Š"
   - "ä¸»å§çš„çª—å¸˜å¼€åˆ°70%"
   ç³»ç»Ÿä¼šï¼š
   - è®¾å¤‡è¯†åˆ«ï¼šå®šä½å…·ä½“è®¾å¤‡å’Œä½ç½®
   - å‚æ•°è§£æï¼šå¤„ç†æ¸©åº¦ã€æ¨¡å¼ã€é£é€Ÿç­‰å‚æ•°
   - çŠ¶æ€ç¡®è®¤ï¼šæ£€æŸ¥å½“å‰è®¾å¤‡çŠ¶æ€
   - æ‰§è¡Œæ§åˆ¶ï¼šå‘é€ç²¾ç¡®çš„æ§åˆ¶æŒ‡ä»¤
   - åé¦ˆç¡®è®¤ï¼šéªŒè¯æ“ä½œæ˜¯å¦æˆåŠŸ
   
   æ³¨æ„ï¼šç³»ç»Ÿä¼šæ™ºèƒ½åˆ¤æ–­è®¾å¤‡ç±»å‹ï¼ˆå¦‚ç©ºè°ƒã€çª—å¸˜ç­‰ï¼‰ï¼Œå¹¶æ ¹æ®ä¸åŒè®¾å¤‡ç±»å‹è°ƒç”¨å¯¹åº”çš„æ§åˆ¶æ¥å£å’Œå‚æ•°è®¾ç½®ã€‚å¯¹äºç™¾åˆ†æ¯”ç±»çš„æ§åˆ¶ï¼ˆå¦‚çª—å¸˜å¼€åˆåº¦ï¼‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¿›è¡Œæ•°å€¼è½¬æ¢å’ŒèŒƒå›´é™åˆ¶ã€‚


> æœªæ¥ä¼šå¢åŠ æ›´å¤šçš„AIè‡ªå®šä¹‰æ„å›¾è¯†åˆ«ï¼Œä»¥æ”¯æŒæ›´åŠ ä¸°å¯Œçš„è®¾å¤‡æ§åˆ¶èƒ½åŠ›ã€‚

#### 3. AIå¯¹è¯å›å¤å„ç§ä¸–ç•Œç›¸å…³ + ç³»ç»Ÿè®¾å¤‡çŠ¶æ€é—®é¢˜ï¼ˆç¬¬ä¸‰ä¼˜å…ˆçº§ï¼‰

ä½œä¸ºç³»ç»Ÿçš„æœ€åä¸€é“å¤„ç†æœºåˆ¶ï¼Œå½“å‰ä¸¤å±‚æ— æ³•å¤„ç†ç”¨æˆ·éœ€æ±‚æ—¶ï¼Œç³»ç»Ÿä¼šå¯åŠ¨AIå¯¹è¯æ¨¡å¼ã€‚è¿™ä¸€å±‚å…·æœ‰è¯­è¨€ç†è§£å’ŒçŸ¥è¯†å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥å¤„ç†å„ç±»å¼€æ”¾æ€§é—®é¢˜å’Œå¤æ‚å¯¹è¯åœºæ™¯ã€‚å¹¶ä¸”å¯ä»¥åˆ†æå®¶ä¸­å’Œè®¾å¤‡ç›¸å…³é—®é¢˜ï¼Œæä¾›æœ‰ç”¨çš„å»ºè®®å’Œè§£å†³æ–¹æ¡ˆã€‚å·²ç»å°†ç³»ç»Ÿä¸­æ‰€æœ‰çš„è®¾å¤‡éƒ½æ¥å…¥è¿›å»ï¼Œæ›´å¤šéœ€è¦ç”¨æˆ·è‡ªå·±å»æ­¥éª¤ï¼šé…ç½® - è¯­éŸ³åŠ©æ‰‹ - å…¬å¼€æ–°å®ä½“ï¼ˆæ˜¯å¦å…¬å¼€æ–°å®ä½“ï¼Ÿå…¬å¼€æ˜¾ç¤ºå—æ”¯æŒçš„ã€ä¸”æœªè¢«å½’ç±»ä¸º "å®‰å…¨è®¾å¤‡" çš„è®¾å¤‡ã€‚ï¼‰å‹¾é€‰ï¼Œå¹¶ä¸”å…¬å¼€å®ä½“ï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨AIå¯¹è¯å›å¤å„ç§ä¸–ç•Œç›¸å…³é—®é¢˜äº†ï¼Œå·²ç»é»˜è®¤å¢åŠ ç©ºè°ƒç›¸å…³å±æ€§å€¼ï¼Œåç»­å°†ç‰ˆæœ¬æ›´æ–°ç»§ç»­æ·»åŠ é‡è¦çš„æ™ºèƒ½è®¾å¤‡äº§å“çš„å±æ€§å€¼

å…¶æ¬¡ï¼Œç³»ç»Ÿä¼šæ ¹æ®ç”¨æˆ·çš„å¯¹è¯å†å²å’Œè®¾å¤‡çŠ¶æ€ï¼Œè¿›è¡Œè¿è´¯çš„å¯¹è¯å›å¤ï¼Œæä¾›æ›´åŠ æµç•…çš„äº¤äº’ä½“éªŒã€‚å¯ä»¥åœ¨ æ™ºè°±æ¸…è¨€  - é…ç½®é€‰é¡¹ - å‹¾é€‰å†å²è®°å½•åˆ†æï¼Œæ”¯æŒ1-15å¤©å„ç±»ç›¸å…³æè¿°è¯¢é—®ï¼Œç›¸å½“äºå…¨å±‹æ™ºèƒ½å®¶å±…çš„çŸ¥è¯†åº“ï¼Œæä¾›æ›´åŠ ä¸°å¯Œçš„å¯¹è¯å›å¤èƒ½åŠ›ï¼Œæ›´åŠ æ»¡è¶³ç”¨æˆ·çš„éœ€æ±‚

#### æ™ºèƒ½å®¶å±…å¯¹è¯èƒ½åŠ›

1. **è®¾å¤‡ä½¿ç”¨å’¨è¯¢**
   ```text
   ç”¨æˆ·å¯ä»¥äº†è§£ï¼š
   - è®¾å¤‡ä½¿ç”¨ï¼š"å¦‚ä½•è®©ç©ºè°ƒæ›´çœç”µï¼Ÿ"
   - åœºæ™¯æ¨èï¼š"æ™šä¸Šç¡è§‰æ¸©åº¦åº”è¯¥è®¾ç½®å¤šå°‘ï¼Ÿ"
   - æ™ºèƒ½è”åŠ¨ï¼š"å¯ä»¥è®¾ç½®å“ªäº›è‡ªåŠ¨åŒ–ï¼Ÿ"
   - åŠŸèƒ½æ¢ç´¢ï¼š"è¿™ä¸ªè®¾å¤‡è¿˜æœ‰ä»€ä¹ˆåŠŸèƒ½ï¼Ÿ"
   
   ç³»ç»Ÿä¼šï¼š
   - æä¾›ä½¿ç”¨æŒ‡å¯¼
   - æ¨èæœ€ä½³å®è·µ
   - åˆ†äº«åœºæ™¯æ–¹æ¡ˆ
   - ä»‹ç»æ–°åŠŸèƒ½
   ```

2. **æ•°æ®åˆ†ææŸ¥è¯¢**
   ```text
   ç”¨æˆ·å¯ä»¥æŸ¥è¯¢ï¼š
   - èƒ½è€—ç»Ÿè®¡ï¼š"è¿™ä¸ªæœˆçš„ç”¨ç”µé‡æ¯”ä¸Šæœˆå¦‚ä½•ï¼Ÿ"
   - è¡Œä¸ºåˆ†æï¼š"æˆ‘ä»¬å®¶ç»å¸¸ç”¨ä»€ä¹ˆç”µå™¨ï¼Ÿ"
   
   ç³»ç»Ÿä¼šï¼š
   - ç»Ÿè®¡å†å²æ•°æ®
   - ç”Ÿæˆè¶‹åŠ¿æŠ¥å‘Š
   - å¯¹æ¯”åˆ†æç»“æœ
   - æä¾›ä¼˜åŒ–å»ºè®®
   ```

#### é€šç”¨çŸ¥è¯†é—®ç­”èƒ½åŠ›

1. **ç§‘æŠ€ä¸è‡ªç„¶**
   ```text
   ç”¨æˆ·å¯ä»¥è¯¢é—®ï¼š
   - ç§‘æŠ€å‰æ²¿ï¼š"æœ€æ–°çš„äººå·¥æ™ºèƒ½å‘å±•å¦‚ä½•ï¼Ÿ"
   - è‡ªç„¶ç§‘å­¦ï¼š"ä¸ºä»€ä¹ˆä¼šæœ‰åœ°éœ‡å‘ç”Ÿï¼Ÿ"
   - ç”Ÿæ´»ç™¾ç§‘ï¼š"å¦‚ä½•æ­£ç¡®æŠ¤ç†çš®è‚¤ï¼Ÿ"
   
   ç³»ç»Ÿä¼šï¼š
   - æä¾›å‡†ç¡®ä¿¡æ¯
   - è§£é‡ŠåŸç†æœºåˆ¶
   - ä¸¾ä¾‹è¯´æ˜
   - æ¨èå»¶ä¼¸é˜…è¯»
   ```

2. **å®æ—¶èµ„è®¯**
   ```text
   ç”¨æˆ·å¯ä»¥äº†è§£ï¼š
   - æ–°é—»åŠ¨æ€ï¼š"æœ€è¿‘æœ‰ä»€ä¹ˆé‡è¦æ–°é—»ï¼Ÿ"
   - å¤©æ°”ä¿¡æ¯ï¼š"æ˜å¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ"
   - ä½“è‚²èµ›äº‹ï¼š"æœ€è¿‘æœ‰ä»€ä¹ˆé‡è¦æ¯”èµ›ï¼Ÿ"
   - å¨±ä¹èµ„è®¯ï¼š"æœ€æ–°çš„ç”µå½±æ¨è"
   
   ç³»ç»Ÿä¼šï¼š
   - è·å–æœ€æ–°ä¿¡æ¯
   - æä¾›ç®€è¦æ¦‚è¿°
   - åˆ†æé‡è¦å½±å“
   - æ¨èç›¸å…³å†…å®¹
   ```

3. **ç”Ÿæ´»æœåŠ¡**
   ```text
   ç”¨æˆ·å¯ä»¥å’¨è¯¢ï¼š
   - å¥åº·å»ºè®®ï¼š"å¦‚ä½•ä¿æŒè‰¯å¥½çš„ä½œæ¯ä¹ æƒ¯ï¼Ÿ"
   - ç¾é£Ÿçƒ¹é¥ªï¼š"çº¢çƒ§è‚‰æ€ä¹ˆåšæœ€å¥½åƒï¼Ÿ"
   - æ—…æ¸¸æ”»ç•¥ï¼š"å‘¨è¾¹æœ‰ä»€ä¹ˆå¥½ç©çš„åœ°æ–¹ï¼Ÿ"
   - ç”Ÿæ´»æŠ€å·§ï¼š"å¦‚ä½•æ•´ç†æˆ¿é—´æ›´æœ‰æ•ˆç‡ï¼Ÿ"
   
   ç³»ç»Ÿä¼šï¼š
   - æä¾›å®ç”¨å»ºè®®
   - åˆ†äº«ç»éªŒæŠ€å·§
   - æ¨èå…·ä½“æ–¹æ¡ˆ
   - æ³¨æ„äº‹é¡¹æé†’
   ```

> æ³¨æ„ï¼šç³»ç»Ÿä¼šé€šè¿‡æ™ºèƒ½åˆ†æå’Œåœ¨çº¿æœç´¢ï¼Œä¸ºç”¨æˆ·æä¾›æœ€æ–°ã€æœ€å‡†ç¡®çš„ä¿¡æ¯ã€‚å¯¹äºéœ€è¦ä¸“ä¸šåˆ¤æ–­çš„é—®é¢˜ï¼ˆå¦‚åŒ»ç–—ã€æ³•å¾‹ç­‰ï¼‰ï¼Œå»ºè®®ä»…ä½œå‚è€ƒï¼Œå¹¶å’¨è¯¢ç›¸å…³ä¸“ä¸šäººå£«ã€‚


### æœåŠ¡ç±»è°ƒç”¨å™¨

æ™ºè°±æ¸…è¨€é›†æˆæä¾›äº†å¤šä¸ªå¼ºå¤§çš„æœåŠ¡è°ƒç”¨å™¨ï¼Œå¯ä»¥é€šè¿‡ Home Assistant çš„æœåŠ¡è°ƒç”¨ç•Œé¢æˆ–è‡ªåŠ¨åŒ–ä½¿ç”¨ï¼š

#### 1. å›¾åƒåˆ†ææœåŠ¡ (image_analyzer)
```yaml
service: zhipuai.image_analyzer
data:
  model: "glm-4v-flash"  # å¿…é€‰ï¼Œå¯é€‰å€¼ï¼šglm-4v-plusã€glm-4vã€glm-4v-flash
  message: "è¯·æè¿°è¿™å¼ å›¾ç‰‡çš„å†…å®¹"  # å¿…é€‰ï¼Œç»™æ¨¡å‹çš„æç¤ºè¯
  image_file: "/config/www/tmp/front_door.jpg"  # å¯é€‰ï¼Œæœ¬åœ°å›¾ç‰‡è·¯å¾„
  image_entity: "camera.front_door"  # å¯é€‰ï¼Œå›¾ç‰‡æˆ–æ‘„åƒå¤´å®ä½“
  temperature: 0.8  # å¯é€‰ï¼Œæ§åˆ¶è¾“å‡ºéšæœºæ€§ï¼ˆ0.1-1.0ï¼‰
  max_tokens: 1024  # å¯é€‰ï¼Œé™åˆ¶ç”Ÿæˆæ–‡æœ¬é•¿åº¦
  stream: false  # å¯é€‰ï¼Œæ˜¯å¦ä½¿ç”¨æµå¼å“åº”
```

åŠŸèƒ½ç‰¹ç‚¹ï¼š
- æ”¯æŒå¤šç§å›¾åƒåˆ†ææ¨¡å‹
- å¯åˆ†ææœ¬åœ°å›¾ç‰‡æˆ–æ‘„åƒå¤´å®ä½“
- æ”¯æŒæµå¼å“åº”å®æ—¶è¿”å›ç»“æœ
- å›¾ç‰‡æ ¼å¼æ”¯æŒjpgã€pngã€jpegï¼ˆæœ€å¤§5MBï¼Œæœ€å¤§åˆ†è¾¨ç‡6000x6000åƒç´ ï¼‰

#### 2. è§†é¢‘åˆ†ææœåŠ¡ (video_analyzer)
```yaml
service: zhipuai.video_analyzer
data:
  model: "glm-4v-plus"  # å¯é€‰ï¼Œä»…æ”¯æŒ glm-4v-plus
  message: "è¯·æè¿°è¿™æ®µè§†é¢‘çš„å†…å®¹"  # å¿…é€‰ï¼Œæç¤ºè¯
  video_file: "/config/www/tmp/video.mp4"  # å¿…é€‰ï¼Œæœ¬åœ°è§†é¢‘æ–‡ä»¶è·¯å¾„
  temperature: 0.8  # å¯é€‰ï¼Œæ§åˆ¶è¾“å‡ºéšæœºæ€§
  max_tokens: 1024  # å¯é€‰ï¼Œé™åˆ¶ç”Ÿæˆæ–‡æœ¬é•¿åº¦
  stream: false  # å¯é€‰ï¼Œæ˜¯å¦ä½¿ç”¨æµå¼å“åº”
```

åŠŸèƒ½ç‰¹ç‚¹ï¼š
- ä¸“ä¸šè§†é¢‘å†…å®¹åˆ†æ
- æ”¯æŒmp4æ ¼å¼è§†é¢‘
- å»ºè®®è§†é¢‘æ—¶é•¿ä¸è¶…è¿‡30ç§’
- å®æ—¶æµå¼å“åº”é€‰é¡¹

#### 3. å›¾åƒç”ŸæˆæœåŠ¡ (image_gen)
```yaml
service: zhipuai.image_gen
data:
  prompt: "ä¸€åªå¯çˆ±çš„å°çŒ«å’ª"  # å¿…é€‰ï¼Œå›¾åƒæè¿°
  model: "cogview-3-flash"  # å¯é€‰ï¼Œé»˜è®¤ä½¿ç”¨å…è´¹çš„ cogview-3-flash
  size: "1024x1024"  # å¯é€‰ï¼Œå›¾ç‰‡å°ºå¯¸
```

æ”¯æŒçš„æ¨¡å‹ï¼š
- CogView-3 Plus
- CogView-3
- CogView-3 Flash (å…è´¹ç‰ˆ)

æ”¯æŒçš„å°ºå¯¸ï¼š
- 1024x1024
- 768x1344
- 864x1152
- 1344x768
- 1152x864
- 1440x720
- 720x1440

#### 4. è”ç½‘æœç´¢æœåŠ¡ (web_search)
```yaml
service: zhipuai.web_search
data:
  query: "ä»Šæ—¥æ–°é—»æ‘˜è¦"  # å¿…é€‰ï¼Œæœç´¢å†…å®¹
  stream: false  # å¯é€‰ï¼Œæ˜¯å¦ä½¿ç”¨æµå¼å“åº”
```

åŠŸèƒ½ç‰¹ç‚¹ï¼š
- ä½¿ç”¨æ™ºè°±AIçš„web-search-proå·¥å…·
- æ”¯æŒå®æ—¶æµå¼å“åº”
- æä¾›å‡†ç¡®çš„æœç´¢ç»“æœ

#### 5. å®ä½“åˆ†ææœåŠ¡ (entity_analysis)
```yaml
service: zhipuai.entity_analysis
data:
  entity_id: 
    - "sensor.living_room_temperature"
    - "binary_sensor.motion_sensor"  # å¿…é€‰ï¼Œæ”¯æŒå¤šä¸ªå®ä½“
  days: 3  # å¯é€‰ï¼Œåˆ†æå¤©æ•°ï¼ˆ1-15å¤©ï¼‰
```

åŠŸèƒ½ç‰¹ç‚¹ï¼š
- æ”¯æŒå¤šå®ä½“åŒæ—¶åˆ†æ
- çµæ´»çš„å†å²è®°å½•æŸ¥è¯¢
- é€‚ç”¨äºå„ç±»ä¼ æ„Ÿå™¨æ•°æ®åˆ†æ
- æ”¯æŒ1-15å¤©çš„æ•°æ®èŒƒå›´

#### ä½¿ç”¨ç¤ºä¾‹

1. **æ™ºèƒ½æ‘„åƒå¤´å›¾åƒåˆ†æ**
```yaml
automation:
  trigger:
    platform: state
    entity_id: binary_sensor.front_door_motion
    to: "on"
  action:
    service: zhipuai.image_analyzer
    data:
      model: "glm-4v-flash"
      message: "åˆ†ææ˜¯å¦æœ‰äººåœ¨é—¨å£ï¼Œè¯¦ç»†æè¿°çœ‹åˆ°çš„åœºæ™¯"
      image_entity: camera.front_door
      stream: true
```

2. **å®šæœŸç”Ÿæˆå¤©æ°”è‰ºæœ¯å›¾**
```yaml
automation:
  trigger:
    platform: time
    at: "08:00:00"
  action:
    service: zhipuai.image_gen
    data:
      prompt: "{{states('weather.home')}}å¤©æ°”çš„è‰ºæœ¯è¡¨ç°"
      model: "cogview-3-flash"
      size: "1024x1024"
```

3. **æ™ºèƒ½å®¶å±…æ•°æ®åˆ†æ**
```yaml
automation:
  trigger:
    platform: time_pattern
    hours: "/12"
  action:
    service: zhipuai.entity_analysis
    data:
      entity_id: 
        - sensor.living_room_temperature
        - sensor.living_room_humidity
      days: 7
```

### âš ï¸ æ³¨æ„äº‹é¡¹
> 1. ğŸ“ å›¾ç‰‡å’Œè§†é¢‘æ–‡ä»¶éœ€è¦ç¡®ä¿Home Assistantæœ‰è®¿é—®æƒé™
> 2. â±ï¸ è§†é¢‘åˆ†æå»ºè®®ä½¿ç”¨è¾ƒçŸ­çš„è§†é¢‘ä»¥è·å¾—æ›´å¥½çš„æ•ˆæœ
> 3. âš¡ ä½¿ç”¨æµå¼å“åº”å¯ä»¥è·å¾—æ›´å¥½çš„å®æ—¶ä½“éªŒï¼Œä½†ä¼šå¢åŠ ç³»ç»Ÿè´Ÿè½½
> 4. ğŸ’« å›¾åƒç”ŸæˆæœåŠ¡å»ºè®®ä½¿ç”¨å…è´¹çš„Flashç‰ˆæœ¬å¼€å§‹å°è¯•
> 5. ğŸ“Š å®ä½“åˆ†ææœåŠ¡çš„å¤©æ•°å»ºè®®æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©ï¼Œé¿å…åˆ†æè¿‡å¤šå†å²æ•°æ®
